(function(){"use strict";var e={194:function(e,n,a){var t=a(963),r=a(655),u=a(252),o=a(577),i=a(262),l=a(843),c=function(e){return(0,u.dD)("data-v-f4c046f2"),e=e(),(0,u.Cn)(),e},s={class:"modal settings-modal"},f={class:"settings"},d={class:"row"},v=c((function(){return(0,u._)("label",{for:"shift-hours"},"Długość zmiany w godzinach",-1)})),m={class:"row"},h=c((function(){return(0,u._)("label",{for:"max-days-in-week"},"Max dni w ciągu tygodnia",-1)})),p={class:"row"},y=c((function(){return(0,u._)("label",{for:"enable-mondays"},"Włącz poniedziałki",-1)})),g={class:"row"},w=c((function(){return(0,u._)("label",{for:"dark-theme"},"Tryb ciemny",-1)})),k=(0,u.aZ)({__name:"SettingsModal",props:{shiftHours:null,maxDaysInWeek:null,enableMondays:{type:Boolean},darkTheme:{type:Boolean}},emits:["cancel","save"],setup:function(e,n){var a=n.emit,r=e,o=(0,i.iH)(r.shiftHours),c=(0,i.iH)(r.maxDaysInWeek),k=(0,i.iH)(r.enableMondays),b=(0,i.iH)(r.darkTheme),_=function(){a("cancel"),o.value=r.shiftHours,c.value=r.maxDaysInWeek,k.value=r.enableMondays,b.value=r.darkTheme},D=function(){var e={shiftHours:o.value,maxDaysInWeek:c.value,enableMondays:k.value,darkTheme:b.value};a("save",e)};return function(e,n){var a=(0,u.Q2)("wave");return(0,u.wg)(),(0,u.iD)("div",s,[(0,u._)("div",f,[(0,u._)("div",d,[v,(0,u.wy)((0,u._)("input",{type:"number",name:"shift-hours",min:"1",max:"72","onUpdate:modelValue":n[0]||(n[0]=function(e){return o.value=e})},null,512),[[t.nr,o.value]])]),(0,u._)("div",m,[h,(0,u.wy)((0,u._)("input",{type:"number",name:"max-days-in-week",min:"1",max:"7","onUpdate:modelValue":n[1]||(n[1]=function(e){return c.value=e})},null,512),[[t.nr,c.value]])]),(0,u._)("div",p,[y,(0,u.Wm)((0,i.SU)(l.Z),{modelValue:k.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return k.value=e}),name:"enable-mondays"},null,8,["modelValue"])]),(0,u._)("div",g,[w,(0,u.Wm)((0,i.SU)(l.Z),{modelValue:b.value,"onUpdate:modelValue":n[3]||(n[3]=function(e){return b.value=e}),name:"dark-theme"},null,8,["modelValue"])])]),(0,u._)("footer",null,[(0,u.wy)((0,u._)("span",{class:"icon-clear",onClick:_},null,512),[[a]]),(0,u.wy)((0,u._)("span",{class:"icon-save",onClick:D},null,512),[[a]])])])}}}),b=a(744);const _=(0,b.Z)(k,[["__scopeId","data-v-f4c046f2"]]);var D=_,x=a(120),H=a.n(x),M=function(e){return(0,u.dD)("data-v-5d6f9264"),e=e(),(0,u.Cn)(),e},C=M((function(){return(0,u._)("h2",null,"Grafit v1.0.5",-1)})),E={class:"settings"},S={class:"row"},O=M((function(){return(0,u._)("label",{for:"max-hours"},"Godzin pracujących w miesiącu",-1)})),W={class:"hours-left"},U={class:"warnings"},I=(0,u.aZ)({__name:"App",setup:function(e){var n=this,a=function(e,n){localStorage.setItem(e,JSON.stringify(n))},l=function(e){return JSON.parse(localStorage.getItem(e))},c=(0,i.iH)(l("maxHours")||168),s=(0,i.iH)(l("shiftHours")||10),f=(0,i.iH)(l("maxDaysInWeek")||4),d=(0,i.iH)(l("enableMondays")||!1),v=(0,u.Fl)((function(){return Math.max(0,c.value-s.value*m.value.length)})),m=(0,i.iH)([]),h=(0,u.Fl)((function(){return m.value.map((function(e){return e.date}))})),p=(0,u.Fl)((function(){return h.value.map((function(e){return{highlight:!0,dates:e}}))})),y=function(){a("maxHours",c.value)},g=(0,i.iH)([]),w=function(e){if(!g.value.find((function(n){return n.id===e})))switch(e){case"MAX_DAYS_EXCEEDED":g.value.push({id:"MAX_DAYS_EXCEEDED",message:"Wybrano więcej niż ".concat(f.value," dni w ciągu tygodnia")});break;default:console.error("Unknown warning type: ".concat(e,"."))}},k=function(e){var n=new Date(e.date.getFullYear(),e.date.getMonth(),1);return n},b=function(e){var n=new Date(e.date.getFullYear(),e.date.getMonth()+1,0);return n},_=(0,u.Fl)((function(){return m.value.length?k(m.value[0]):null})),x=(0,u.Fl)((function(){return m.value.length?b(m.value[0]):null})),M=function(e){g.value=g.value.filter((function(n){return n.id!=e}))},I=function(e){if(e.isDisabled)return!1;var n=m.value.findIndex((function(n){return n.id===e.id}));n>=0?m.value.splice(n,1):v.value>0&&m.value.push({id:e.id,date:e.date}),m.value.sort((function(e,n){return e.id.localeCompare(n.id)}));for(var a=!1,t=0,r=m.value;t<r.length;t++){var u=r[t],o=F(u);if(o>f.value){a=!0;break}}a?w("MAX_DAYS_EXCEEDED"):M("MAX_DAYS_EXCEEDED")},F=function(e){var n=e.date.valueOf()+5184e5,a=m.value.filter((function(a){return a.date.valueOf()>=e.date.valueOf()&&a.date.valueOf()<=n}));return a.length},z=function(){m.value=[]},T=(0,i.iH)(!1),j=function(e){s.value=e.shiftHours,a("shiftHours",e.shiftHours),f.value=e.maxDaysInWeek,a("maxDaysInWeek",e.maxDaysInWeek),d.value=e.enableMondays,a("enableMondays",e.enableMondays),T.value=!1,e.darkTheme?X("dark"):X("light")},A=(0,i.iH)("light"),V=(0,u.Fl)((function(){return"dark"===A.value})),X=function(e){a("user-theme",e),A.value=e,document.documentElement.className=e},Y=function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches;return e?"dark":"light"},Z=function(){return l("user-theme")},G=Z()||Y();X(G);var N=(0,i.iH)(null),J=function(){var e=document.querySelector(".vc-title"),n=e.textContent,a=n.split(" 2"),t=a[0];return t},q=function(){return(0,r.mG)(n,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return e=document.querySelector(".vc-container"),[4,H()(e)];case 1:return n=a.sent().toDataURL(),[2,n]}}))}))},B=function(){return(0,r.mG)(n,void 0,void 0,(function(){var e,n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,q()];case 1:return e=a.sent(),n=document.createElement("a"),n.href=e,n.download="".concat(J(),".png"),n.click(),n.remove(),[2]}}))}))},P=function(){return(0,r.mG)(n,void 0,void 0,(function(){var e,n,a;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,q()];case 1:return e=t.sent(),[4,fetch(e)];case 2:return[4,t.sent().blob()];case 3:return n=t.sent(),a=new File([n],"".concat(J(),".png"),{type:n.type}),navigator.share({title:"Grafik",text:"To jest moja propozycja grafiku na ".concat(J()),files:[a]}),[2]}}))}))};return function(e,n){var a=(0,u.up)("v-calendar"),r=(0,u.Q2)("wave");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u._)("main",null,[C,(0,u._)("div",E,[(0,u._)("div",S,[O,(0,u.wy)((0,u._)("input",{type:"number",name:"max-hours",min:"1",max:"744","onUpdate:modelValue":n[0]||(n[0]=function(e){return c.value=e}),onChange:y},null,544),[[t.nr,c.value]])])]),(0,u._)("span",W,[(0,u.Uk)("Do zaplanowania pozostało "),(0,u._)("b",null,(0,o.zw)((0,i.SU)(v)),1),(0,u.Uk)(" godzin.")]),(0,u.Wm)(a,{ref_key:"calendar",ref:N,attributes:(0,i.SU)(p),"min-date":(0,i.SU)(_),"max-date":(0,i.SU)(x),"disabled-dates":d.value?null:{weekdays:[2]},"first-day-of-week":2,locale:"pl",onDayclick:I,color:"yellow","is-expanded":"","is-dark":"dark"===A.value},null,8,["attributes","min-date","max-date","disabled-dates","is-dark"]),(0,u._)("div",U,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(g.value,(function(e){return(0,u.wg)(),(0,u.iD)("div",{class:"warning",key:e.id},(0,o.zw)(e.message),1)})),128))]),(0,u._)("footer",null,[(0,u.wy)((0,u._)("span",{class:"icon-settings",onClick:n[1]||(n[1]=function(e){return T.value=!0})},null,512),[[r]]),(0,u.wy)((0,u._)("span",{class:"icon-photo_size_select_large",onClick:B},null,512),[[r]]),(0,u.wy)((0,u._)("span",{class:"icon-share",onClick:P},null,512),[[r]]),(0,u.wy)((0,u._)("span",{class:"icon-refresh",onClick:z},null,512),[[r]])])]),(0,u.Wm)(t.uT,{name:"fade"},{default:(0,u.w5)((function(){return[(0,u.wy)((0,u._)("div",{class:"overlay",onClick:n[2]||(n[2]=function(e){return T.value=!1})},null,512),[[t.F8,T.value]])]})),_:1}),(0,u.Wm)(t.uT,{name:"slide-fade"},{default:(0,u.w5)((function(){return[(0,u.wy)((0,u.Wm)(D,{shiftHours:s.value,maxDaysInWeek:f.value,enableMondays:d.value,darkTheme:(0,i.SU)(V),onSave:j,onCancel:n[3]||(n[3]=function(e){return T.value=!1})},null,8,["shiftHours","maxDaysInWeek","enableMondays","darkTheme"]),[[t.F8,T.value]])]})),_:1})],64)}}});const F=(0,b.Z)(I,[["__scopeId","data-v-5d6f9264"]]);var z=F,T=a(720),j=a(666),A=a(205);(0,A.z)("".concat("/Grafit/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),(0,t.ri)(z).use(T.ZP,{}).use(j.Z,{color:"gold",duration:.3,initialOpacity:.8,finalOpacity:.3}).mount("#app")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var u=n[t]={exports:{}};return e[t].call(u.exports,u,u.exports,a),u.exports}a.m=e,function(){var e=[];a.O=function(n,t,r,u){if(!t){var o=1/0;for(s=0;s<e.length;s++){t=e[s][0],r=e[s][1],u=e[s][2];for(var i=!0,l=0;l<t.length;l++)(!1&u||o>=u)&&Object.keys(a.O).every((function(e){return a.O[e](t[l])}))?t.splice(l--,1):(i=!1,u<o&&(o=u));if(i){e.splice(s--,1);var c=r();void 0!==c&&(n=c)}}return n}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[t,r,u]}}(),function(){a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,{a:n}),n}}(),function(){a.d=function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};a.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,u,o=t[0],i=t[1],l=t[2],c=0;if(o.some((function(n){return 0!==e[n]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var s=l(a)}for(n&&n(t);c<o.length;c++)u=o[c],a.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return a.O(s)},t=self["webpackChunkgrafit"]=self["webpackChunkgrafit"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(194)}));t=a.O(t)})();
//# sourceMappingURL=app.4b4d88bd.js.map